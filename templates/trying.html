{% extends 'layout.html' %}
{% block body %}
<script>

window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("myBtn").style.display = "block";
    } else {
        document.getElementById("myBtn").style.display = "none";
    }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>

<script>
var tdydate;
function date() {

var date = "";

var newDate = new Date();

// Get the month, day, and year.
date += newDate.getDate() + "/";
date += (newDate.getMonth() + 1) + "/";
date += newDate.getFullYear();

return date;


}
/*
function addtocart1(){
    date= date();
    var name = document.getElementById("name").innerText;
    var type= document.getElementById("type").innerText;
    var item = "Asia Mall $20 Gift Voucher";
    var points = 1110;
    var quantity = document.getElementById("Asia Mall $20 Gift Voucher").value;
    var totalpoints= points * quantity;
    asiamall= {"date": date,"rewardname":name,"type":type, "item": item, "points":points,"quantity":quantity,"totalpoints":totalpoints};
    items.push(asiamall);
    console.log(items)
}
*/
</script>

<style>

    .container{
        width:90%;
    }

    ul.nav.nav-tabs{
        font-size:18px;
        border-bottom: 2px solid black;
    }
    ul.nav.nav-tabs>.active>a{
        border:1px solid black;
        background-color:whitesmoke;
    }
    .nav-tabs>li>a{
        margin-right:15px;
        border:1px solid black;
        border-bottom:transparent;
        color: black
    }
    a.nav-tabs.active{
        background-color:whitesmoke;
    }
    .pointsystem{
        border-style: solid;
        border-bottom-color: transparent;
        font-size:15px;
        font-weight:bold;
        padding:3px 10px 3px 20px;
        text-align:center;
        display: inline-block;
        margin-top: -9px;
    }
    h3{
        font-weight:bold;
        font-size:27px;
        margin: 10px 35px 0px 10px;
    }
    span.glyphicon.glyphicon-shopping-cart{
        color:black;
        font-size:25px;
        margin: -20px 25px 0px 30px;

    }

    .search{
        position: relative;
        margin:10px 0px 0px 0px;
    }
    input[type=search]::-webkit-search-cancel-button {
        -webkit-appearance: searchfield-cancel-button;
    }

    i.glyphicon.glyphicon-search {
        position: absolute;
        padding: 10px;
        pointer-events: none;
    }

    th.text-center {
        border: 1px solid black;
        font-size:18px;
    }

    .info{
        font-size:17px;
    }
    #name{
    font-weight:bold;
    }

    tr.border_bottom td {
      border-bottom:1pt solid black;
    }
    .addtocart{
    background-color: white;
    color: black;
    border:1px solid black;
    padding: 5px 3px;
    margin-top:5px;
    text-align: center;
    width:130px;
    font-size: 15px;
    transition-duration: 0.4s;
    cursor: pointer;
}
    .addtocart:hover {
        background-color: #e7e7e7;
    }

    #myBtn {
    display: none;
    background-color: black;
    color: white;
    cursor: pointer;
    position: fixed;
    width: 45px;
	height: 45px;
	border-radius: 50px;
    bottom: 20px;
    right: 20px;
    border: none;
    outline: none;

    }

</style>

<div class="container">
    <!-- Nav tabs with classes -->
  <ul class="nav nav-tabs" role="tablist">
  <li><a href=".preferred" role="tab" data-toggle="tab">Preferred</a></li>
  <li  class="active"><a href=".all" role="tab" data-toggle="tab">All</a></li>
  <li><a href=".retail" role="tab" data-toggle="tab">Retail</a></li>
  <li><a href=".dining" role="tab" data-toggle="tab">Dining</a></li>
  <li><a href=".leisure" role="tab" data-toggle="tab">Leisure</a></li>
  <li role="presentation" class="uobbank">
       <h3>UOB Catalogue</h3>
      </li>
      <li>
          {% block uobcurrentpts %}
          <div  class="pointsystem" >
                <div style="display:inline-block">
                    <p style="margin-bottom:0px;font-size:17px;">
                        Current Point : UNI$<span id="currentpt">{{ uobcurrentpts }}</span>
                    </p>
                    <p style="padding-right:47px; margin-bottom:0px;  font-size:17px; ">
                        Redeemed Point : <span id="redeempt">0</span>
                    </p>
                </div>
                <div style="display:inline-block">
                    <p style="text-align:center; margin:0px">
                        <a href="/cart"><span class="glyphicon glyphicon-shopping-cart"></span></a>
                    </p>
                </div>
          </div>
          {% endblock %}
      </li>
  </ul>

<!-- Tab panes with classes-->
<div class="tab-content">
  <div class="tab-pane preferred">
      <script>
function searchuobPreferred() {
    // Declare variables
    input = document.getElementById("searchuobpreferred");
    filter = input.value.toUpperCase();
    table = document.getElementById("preferred");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}

/*
function addtocart1(){
    quantity = document.getElementsByClassName("quantity").value;
    if (quantity == "0"){
        error = document.getElementById("error");
        error.innerText = "Invalid Quantity"
    }
}
*/

</script>
      <table align="center">
          <tr>
              <td style="font-size:17px;">
                  <div class="search">
                      <i class="glyphicon glyphicon-search"></i>
                      <input type="search" id="searchuobpreferred" onkeyup="searchuobPreferred()"  placeholder="Search Reward names" style="width: 400px;font-size: 16px;padding: 10px 20px 12px 40px;border: 1px solid black;height: 40px;">
                  </div>
              </td>

              <td style="text-align:center">

              </td>
          </tr>
      </table>

  <br>
  <br>
  <table class="uob" id="preferred" style="border:1px solid black; width:90%;text-align:center; margin:auto;">
      <tr>
          <col width="20%">
          <col width="20%">
          <col width="22.5%">
          <col width="15%">


          <th class="text-center" colspan="2">Item</th>
          <th class="text-center">Type</th>
          <th class="text-center">Points (UNI$)</th>
          <th class="text-center">Selection</th>
      </tr>
<!--UOB TREND ITEMS-->
      {% for preferreditems in uobpreferreditems %}

      <tr class="border_bottom"  style="height:120px;">

          <td class="image">
              <p><img id="img" src="static/images/{{preferreditems.get_image()}}" width="{{ preferreditems.get_width()}}" height="{{ preferreditems.get_height()}}"></p>
          </td>
          <td class="info" >
              <p id="name">{{ preferreditems.get_item()}}</p>
          </td>

          <td >
              <p class="info" id="type">{{ preferreditems.get_type()}}</p>
          </td>
          <td >
              <p class="info" id="points">{{ preferreditems.get_points()}}points</p>
          </td>
          <td>

              <input type="text hidden" name = "item" value="{{ preferreditems.get_item()}}">
              <input type="text hidden" name = "point" value="{{ preferreditems.get_points()}}">
              <input type="text" name = "currentpoint" value="{{ uobcurrentpts }}">
              <input type="text" name = "redeempoint" value="0">
              <p class="uobselection">
               <label for="quantity">Quantity:</label>
                  <select name="quantity">>
                      <option value="0" >0</option>
                      {% for preferrednum in preferreditems.list_qty() %}
                      <option value="{{ preferrednum}}">{{ preferrednum}}</option>
                      {% endfor %}
                  </select>
              </p>
              <button class="addtocart" onclick="{{adding}}" type="submit" value="Submit"><span class="glyphicon glyphicon-shopping-cart" style="margin:0px 6px; font-size:15px; "></span> Add to Cart</button>
              <p id="error"></p>

          </td>
      </tr>

{% endfor %}
    </table>
    <button onclick="topFunction()" type="button" id="myBtn" title="Back to top"><span class="glyphicon glyphicon-chevron-up"></span></button>
<br>
<br>
<br>

  </div>
  <div class="tab-pane active all">
      <script>
function searchuobAll() {
    // Declare variables
    input = document.getElementById("searchuoball");
    filter = input.value.toUpperCase();
    table = document.getElementById("all");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}
</script>

          <table align="center">
        <tr>
            <td style="font-size:17px;">
                <div class="search">

                    <i class="glyphicon glyphicon-search"></i>
                    <input type="search" id="searchuoball" onkeyup="searchuobAll()"  placeholder="Search Reward names" style="width: 400px;font-size: 16px;padding: 10px 20px 12px 40px;border: 1px solid black;height: 40px;">
                </div>
            </td>



        </tr>
    </table>
  <br>
  <br>
  <table class="uob" id="all" style="border:1px solid black; width:90%;text-align:center; margin:auto;">
      <tr>
          <col width="20%">
          <col width="20%">
          <col width="22.5%">
          <col width="15%">


          <th class="text-center" colspan="2">Item</th>
          <th class="text-center">Type</th>
          <th class="text-center">Points (UNI$)</th>
          <th class="text-center">Selection</th>
      </tr>
<!--UOB ALL ITEMS-->
      {% for allitems in uoballitems %}

      <tr class="border_bottom"  style="height:120px;">
          <td class="image">
              <p><img id="img" src="static/images/{{allitems.get_image()}}" width="{{ allitems.get_width()}}" height="{{ allitems.get_height()}}"></p>
          </td>
          <td class="info" >
              <p id="name">{{ allitems.get_item()}}</p>
          </td>

          <td >
              <p class="info" id="type">{{ allitems.get_type()}}</p>
          </td>
          <td >
              <p class="info" id="points">{{ allitems.get_points()}}points</p>
          </td>
          <td>
              <p class="uobselection">
                  <label for="quantity">Quantity:</label>
                  <select id="{{ allitems.get_item()}}">
                      <option name="{{ allitems.get_type()}}" value="0" selected="">0</option>
                      {% for allnum in allitems.list_qty() %}
                      <option name="{{ allitems.get_type()}}" value="{{ allnum}}">{{ allnum}}</option>
                      {% endfor %}
                  </select>
              </p>
              <button class="addtocart" type="submit" value="submit"><span class="glyphicon glyphicon-shopping-cart" style="margin:0px 6px; font-size:15px; "></span> Add to Cart</button>
          </td>
      </tr>

{% endfor %}
    </table>
    <button onclick="topFunction()" type="button" id="myBtn" title="Back to top"><span class="glyphicon glyphicon-chevron-up"></span></button>
<br>
<br>
<br>


  </div>
  <div class="tab-pane retail">

<script>
function searchuobRetail() {
    // Declare variables
    input = document.getElementById("searchuobretail");
    filter = input.value.toUpperCase();
    table = document.getElementById("retail");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}
</script>
      <table align="center">
          <tr>
              <td style="font-size:17px;">
                  <div class="search">
                      <i class="glyphicon glyphicon-search"></i>
                      <input type="search" id="searchuobretail" onkeyup="searchuobRetail()"  placeholder="Search Reward names" style="width: 400px;font-size: 16px;padding: 10px 20px 12px 40px;border: 1px solid black;height: 40px;">
                  </div>
              </td>


          </tr>
      </table>

  <br>
  <br>
  <table class="uob" id="retail" style="border:1px solid black; width:90%;text-align:center; margin:auto;">
      <tr>
          <col width="20%">
          <col width="20%">
          <col width="22.5%">
          <col width="15%">


          <th class="text-center" colspan="2">Item</th>
          <th class="text-center">Type</th>
          <th class="text-center">Points (UNI$)</th>
          <th class="text-center">Selection</th>
      </tr>
<!--UOB RETAIL ITEMS-->
      {% for retailitems in uobretialitems %}

      <tr class="border_bottom"  style="height:120px;">
          <td class="image">
              <p><img id="img" src="static/images/{{retailitems.get_image()}}" width="{{ retailitems.get_width()}}" height="{{ retailitems.get_height()}}"></p>
          </td>
          <td class="info" >
              <p id="name">{{ retailitems.get_item()}}</p>
          </td>

          <td >
              <p class="info" id="type">{{ retailitems.get_type()}}</p>
          </td>
          <td >
              <p class="info" id="points">{{ retailitems.get_points()}}points</p>
          </td>
          <td>
              <p class="uobselection">
                  <label for="quantity">Quantity:</label>
                  <select id="{{ retailitems.get_item()}}">
                      <option name="{{ retailitems.get_type()}}" value="0" selected="">0</option>
                      {% for retailnum in retailitems.list_qty() %}
                      <option name="{{ retailitems.get_type()}}" value="{{ retailnum}}">{{ retailnum}}</option>
                      {% endfor %}
                  </select>
              </p>
              <button class="addtocart" type="submit" value="submit"><span class="glyphicon glyphicon-shopping-cart" style="margin:0px 6px; font-size:15px; "></span> Add to Cart</button>
          </td>
      </tr>

{% endfor %}
    </table>
    <button onclick="topFunction()" type="button" id="myBtn" title="Back to top"><span class="glyphicon glyphicon-chevron-up"></span></button>
<br>
<br>
<br>

</div>


  <div class="tab-pane dining">


<script>
function searchuobDining() {
    // Declare variables
    input = document.getElementById("searchuobdining");
    filter = input.value.toUpperCase();
    table = document.getElementById("dining");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}
</script>

      <table align="center">
          <tr>
              <td style="font-size:17px;">
                  <div class="search">
                      <i class="glyphicon glyphicon-search"></i>
                      <input type="search" id="searchuobdining" onkeyup="searchuobDining()"  placeholder="Search Reward names" style="width: 400px;font-size: 16px;padding: 10px 20px 12px 40px;border: 1px solid black;height: 40px;">
                  </div>
              </td>

          </tr>
      </table>
      <br>
      <br>
      <table class="uob" id="dining" style="border:1px solid black; width:90%;text-align:center; margin:auto;">

          <tr>
              <col width="20%">
              <col width="20%">
              <col width="22.5%">
              <col width="15%">


              <th class="text-center" colspan="2">Item</th>
              <th class="text-center">Type</th>
              <th class="text-center">Points (UNI$)</th>
              <th class="text-center">Selection</th>
          </tr>
<!--UOB DINING ITEMS-->

      {% for diningitems in uobdiningitems %}

          <tr class="border_bottom"  style="height:120px;">
              <td class="image">
                  <p><img src="static/images/{{diningitems.get_image()}}" width="{{diningitems.get_width()}}" height="{{diningitems.get_height()}}"></p>
              </td>
              <td class="info" id="name">
                  <p>{{diningitems.get_item()}}</p>
              </td>
              <td >
                  <p class="info" id="type">{{ diningitems.get_type()}}</p>
              </td>
              <td >
                  <p class="info" id="points">{{ diningitems.get_points()}} points</p>
              </td>
              <td>
                  <p class="uobselection">
                      <label for="quantity">Quantity:</label>
                  <select id="{{ diningitems.get_item()}}">
                      <option name="{{ diningitems.get_type()}}" value="0" selected="">0</option>
                      {% for diningnum in diningitems.list_qty() %}
                      <option name="{{ diningitems.get_type()}}" value="{{ diningnum}}">{{ diningnum}}</option>
                      {% endfor %}
                  </select>
                  </p>
                  <button class="addtocart" type="submit" value="submit"><span class="glyphicon glyphicon-shopping-cart" style="margin:0px 6px; font-size:15px; "></span> Add to Cart</button>
              </td>
          </tr>

        {% endfor %}
      </table>
      <button onclick="topFunction()" type="button" id="myBtn" title="Back to top"><span class="glyphicon glyphicon-chevron-up"></span></button>
<br>
<br>
<br>
  </div>


  <div class="tab-pane leisure">


<script>
function searchuobLeisure() {

    // Declare variables
    input = document.getElementById("searchuobleisure");
    filter = input.value.toUpperCase();
    table = document.getElementById("leisure");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }

 //   if (tr.style=="none"):
   //     search_error = document.getElementById("leisure_searcherror")
//<td colspan="5" style="font-size: 20px; font-weight: bold; padding: 100px 0px;">Your item cannot be found.</td>
}
</script>

      <table align="center">
        <tr>
            <td style="font-size:17px;">
                <div class="search">

                    <i class="glyphicon glyphicon-search"></i>
                    <input type="search" id="searchuobleisure" onkeyup="searchuobLeisure()"  placeholder="Search Reward names" style="width: 400px;font-size: 16px;padding: 10px 20px 12px 40px;border: 1px solid black;height: 40px;">
                </div>
            </td>



        </tr>
    </table>


    <br>
    <br>
    <table class="uob" id="leisure" style="border:1px solid black; width:90%;text-align:center; margin:auto;">

        <tr>
            <col width="20%">
            <col width="20%">
            <col width="22.5%">
            <col width="15%">


            <th class="text-center" colspan="2">Item</th>
            <th class="text-center">Type</th>
            <th class="text-center">Points (UNI$)</th>
            <th class="text-center">Selection</th>
        </tr>
<!--UOB LEISURE ITEMS-->
    <tr id="leisure_searcherror"></tr>
        {% for leisureitems in uobleisureitems %}
<!--         <script>
                    console.log("{{ leisureitems.get_item()}}")
                    if("{{ leisureitems.get_item()}}" == "BBounce Studio Voucher"){
                        img=document.getElementById('image').src='static/images/bbounce.png';

                    }

                    else if("{{ leisureitems.get_item()}}" == "Freeing SG Voucher"){
                        document.getElementById('image').src='static/images/freeingsg.png';
                    }
                    else if("{{ leisureitems.get_item()}}" == "Saint Games Voucher"){
                        document.getElementById('image').src='static/images/saintgames.jpg';
                    }
                </script>
-->
        <tr class="border_bottom"  style="height:120px;">

           <td class="image">
                <p><img id="image" src="static/images/{{ leisureitems.get_image()}}" width="{{ leisureitems.get_width()}}" height="{{ leisureitems.get_height()}}"></p>
            </td>
            <td class="info" >
                <p id="lname">{{ leisureitems.get_item()}}</p>
            </td>

            <td >
                <p class="info" id="type">{{ leisureitems.get_type()}}</p>
            </td>
            <td >
                <p class="info" id="points">{{ leisureitems.get_points()}} points</p>
            </td>
            <td>
                <p class="uobselection">
                        <label for="quantity">Quantity:</label>
                    <select id="{{ leisureitems.get_item()}}">
                      <option name="{{ leisureitems.get_type()}}" value="0" selected="">0</option>
                      {% for leisurenum in leisureitems.list_qty() %}
                      <option name="{{ leisureitems.get_type()}}" value="{{ leisurenum}}">{{ leisurenum}}</option>
                      {% endfor %}
                    </select>
                </p>
                <button class="addtocart" type="submit" value="submit"><span class="glyphicon glyphicon-shopping-cart" style="margin:0px 6px; font-size:15px; "></span> Add to Cart</button>
            </td>
        </tr>

        {% endfor %}

    </table>

<br>
<br>
<br>
<br>
<button onclick="topFunction()" type="button" id="myBtn" title="Back to top"><span class="glyphicon glyphicon-chevron-up"></span></button>

<br>


</div>
</div>

</div><!--container-->
{% endblock %}
